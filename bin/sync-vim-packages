#!/usr/bin/env bash

main() {
  local repos=(
    morhetz/gruvbox
    preservim/nerdtree
    vim-airline/vim-airline
    vim-airline/vim-airline-themes
  )

  local url repo dir name

  for repo in "${repos[@]}"; do
    url="https://github.com/$repo"

    name=$(basename "$url")

    dir="$HOME/.vim/pack/$name/start/$name/"

    if [ -d "$dir" ]; then
      pushd "$dir" || return 1
      git pull --no-tags
      popd || return 1
    else
      mkdir -p "$dir"
      git clone --depth 1 "$url" "$dir"
    fi
  done
}

if [[ "${BASH_SOURCE[0]}" == "$0" ]]; then
  main
fi
